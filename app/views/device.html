<div class="container">
  <div class="well">
    <div ng-show="loggedIn">
    <h3>List of Devices</h3>
    <button class="btn btn-success" ng-click="createDevice()" data-toggle="modal" data-target="#createModal">
    <i class="icon-calendar icon-white"></i>&nbsp;Create New Device</button>
    <table class='table table-striped'>
      <thead>
        <tr>
          <th>Device ID</th>
          <th>Device Name</th>
          <th>Device Type</th>
          <th>Device Hash</th>
          <th>Time Stamp</th>
          <th>Active</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat='device in devices' ng-show="device.active">
          <td>{{device._id}}</td>
          <td>{{device.name}}</td>
          <td>{{device.type}}</td>
          <td>{{device.hash}}</td>
          <td>{{device.timeStamp}}</td>
          <td>{{device.active}}</td>
          <td>
            <button role='button' class='btn btn-success' ng-click="editDevice(device)" data-toggle="modal" data-target="#editModal">Edit</button>
            <button type='button' class="btn btn-success" ng-click="deviceHistory(device)">History</button>
            <button type='button' class="btn btn-danger" ng-click="delete(device)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    </div>
    </div>
  </div>
</div>

<div class="modal fade" id="createModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">New Device</h4>
      </div>
      <div class="modal-body">
        <form name="form" method="post" novalidate>
          <div class="form-group">
            <label for="deviceName" class="control-label">Device Name</label>
            <input type="deviceName" ng-readonly="{{uneditable}}" ng-model="device.name" name="deviceName" id="deviceName" placeholder="Device Name" required class="form-control">
            <span ng-show="form.deviceName.$dirty && form.deviceName.$error.required" class="help-block">Please enter the Device ID</span>
          </div>
          <div class="form-group">
            <label for="deviceType" class="control-label">Device Type</label>
            <input type="deviceType"  ng-readonly="{{uneditable}}" ng-model="device.type" name="deviceType" id="deviceType" placeholder="Device Type" required class="form-control">
            <span ng-show="form.deviceType.$dirty && form.deviceType.$error.required" class="help-block">Please enter the Device Type</span>
          </div>
          <div class="form-group">
            <label for="deviceHash" class="control-label">Device Hash</label>
            <input type="deviceHash" ng-model="device.hash" name="deviceHash" id="deviceHash" placeholder="Device Hash" required class="form-control">
            <span ng-show="form.deviceHash.$dirty && form.deviceHash.$error.required" class="help-block">Please enter the Device Hash</span>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type='button' class="btn btn-primary" ng-disabled="form.$invalid" data-dismiss="modal" ng-click="save()">Save</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Edit Device</h4>
      </div>
      <div class="modal-body">
        <form name="form" method="post" novalidate>
          <div class="form-group">
            <label for="deviceName" class="control-label">Device Name: {{device.name}} </label>
<!--             <input type="deviceName" ng-model="device.name" name="deviceName" id="deviceName" placeholder="Device Name" required>
 -->          </div>
          <div class="form-group">
            <label for="deviceType" class="control-label">Device Type: {{device.type}}</label>
            <input type="deviceType" ng-model="device.type" name="deviceType" id="deviceType" placeholder="Device Type" required>
\          </div>
          <div class="form-group">
            <label for="deviceHash" class="control-label">Device Hash</label>
            <input type="deviceHash" ng-model="device.hash" name="deviceHash" id="deviceHash" placeholder="Device Hash" required class="form-control">
            <span ng-show="form.deviceHash.$dirty && form.deviceHash.$error.required" class="help-block">Please enter the Device Hash</span>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type='button' class="btn btn-primary" ng-disabled="form.$invalid" data-dismiss="modal" ng-click="update(device)">Save</button>
      </div>
    </div>
  </div>
</div>

